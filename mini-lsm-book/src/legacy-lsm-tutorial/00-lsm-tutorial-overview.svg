<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="814" height="588" version="1.1" viewBox="-35 181 814 588"><defs><marker id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker><marker id="FilledArrow_Marker_2" stroke-linejoin="miter" stroke-miterlimit="10" color="#7f8080" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker></defs><g id="00-lsm-tutorial-overview" fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>00-lsm-tutorial-overview</title><rect width="814" height="588" x="-35" y="181" fill="#fff"/><g id="00-lsm-tutorial-overview_Layer_1"><title>Layer 1</title><g id="Graphic_57"><rect width="208.47" height="328.756" x="467.5" y="182" fill="#fff"/><path stroke="gray" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 467.5 182 L 675.97 182 L 675.97 510.7561 L 467.5 510.7561 Z"/></g><g id="Graphic_55"><rect width="494.553" height="328.756" x="-34.5" y="182" fill="#fff"/><path stroke="gray" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M -34.5 182 L 460.05256 182 L 460.05256 510.7561 L -34.5 510.7561 Z"/></g><g id="Graphic_54"><rect width="223.21" height="174.724" x="-25" y="231.802" fill="#fff"/><path stroke="gray" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M -25 231.802 L 198.20984 231.802 L 198.20984 406.526 L -25 406.526 Z"/></g><g id="Graphic_52"><rect width="475.826" height="92.448" x="61.5" y="558.034" fill="#fff"/><path stroke="gray" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M 61.5 558.03406 L 537.32584 558.03406 L 537.32584 650.48206 L 61.5 650.48206 Z"/></g><g id="Graphic_51"><text fill="#000" transform="translate(373.76584 626.01794)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Day 2: SST Encoding</tspan></text></g><g id="Graphic_48"><rect width="541" height="92.448" x="-3.674" y="675.568" fill="#fff"/><path stroke="gray" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M -3.6741593 675.5681 L 537.32584 675.5681 L 537.32584 768.0161 L -3.6741593 768.0161 Z"/></g><g id="Graphic_47"><rect width="62.81" height="41.5" x="128.292" y="358.5" fill="#fff"/><rect width="62.81" height="41.5" x="128.292" y="358.5" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(133.292 370.026)"><tspan x="11.445" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">SST</tspan></text></g><g id="Graphic_46"><text fill="#000" transform="translate(90 370.026)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">L0</tspan></text></g><g id="Graphic_45"><rect width="62.81" height="41.5" x="128.5" y="410.026" fill="#fff"/><rect width="62.81" height="41.5" x="128.5" y="410.026" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(133.5 421.552)"><tspan x="11.445" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">SST</tspan></text></g><g id="Graphic_44"><rect width="62.81" height="41.5" x="201.095" y="410.026" fill="#fff"/><rect width="62.81" height="41.5" x="201.095" y="410.026" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(206.09484 421.552)"><tspan x="11.445" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">SST</tspan></text></g><g id="Graphic_43"><text fill="#000" transform="translate(90.208 421.552)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">L1</tspan></text></g><g id="Graphic_42"><rect width="62.81" height="41.5" x="200.887" y="461.552" fill="#fff"/><rect width="62.81" height="41.5" x="200.887" y="461.552" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(205.88684 473.078)"><tspan x="11.445" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">SST</tspan></text></g><g id="Graphic_41"><rect width="62.81" height="41.5" x="273.482" y="461.552" fill="#fff"/><rect width="62.81" height="41.5" x="273.482" y="461.552" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(278.48168 473.078)"><tspan x="11.445" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">SST</tspan></text></g><g id="Graphic_40"><text fill="#000" transform="translate(90 473.078)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Ln</tspan></text></g><g id="Graphic_39"><rect width="62.81" height="41.5" x="128.292" y="461.552" fill="#fff"/><rect width="62.81" height="41.5" x="128.292" y="461.552" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(133.292 473.078)"><tspan x="11.445" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">SST</tspan></text></g><g id="Graphic_38"><rect width="62.81" height="41.5" x="346.077" y="461.552" fill="#fff"/><rect width="62.81" height="41.5" x="346.077" y="461.552" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(351.07652 473.078)"><tspan x="11.445" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">SST</tspan></text></g><g id="Line_37"><line x1="7" x2="697.696" y1="319" y2="319" stroke="#000" stroke-dasharray="4 4" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="Graphic_36"><text fill="#000" transform="translate(12 325)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">On Disk</tspan></text></g><g id="Graphic_35"><text fill="#000" transform="translate(12 296.552)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">In Memory</tspan></text></g><g id="Graphic_34"><rect width="62.81" height="41.5" x="128.5" y="245.974" fill="#fff"/><rect width="62.81" height="41.5" x="128.5" y="245.974" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(133.5 248.276)"><tspan x="8.317" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Mem </tspan> <tspan x="7.589" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16">Table</tspan></text></g><g id="Graphic_33"><rect width="62.81" height="41.5" x="201.095" y="245.974" fill="#fff"/><rect width="62.81" height="41.5" x="201.095" y="245.974" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(206.09484 248.276)"><tspan x="8.317" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Mem </tspan> <tspan x="7.589" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16">Table</tspan></text></g><g id="Graphic_32"><rect width="62.81" height="41.5" x="273.69" y="245.974" fill="#fff"/><rect width="62.81" height="41.5" x="273.69" y="245.974" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(278.68968 248.276)"><tspan x="8.317" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Mem </tspan> <tspan x="7.589" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16">Table</tspan></text></g><g id="Graphic_31"><rect width="62.81" height="41.5" x="530.954" y="365.026" fill="#fff"/><rect width="62.81" height="41.5" x="530.954" y="365.026" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(535.95384 376.552)"><tspan x="9.557" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">WAL</tspan></text></g><g id="Graphic_30"><rect width="124.083" height="28.448" x="500.317" y="252.052" fill="#fff"/><rect width="124.083" height="28.448" x="500.317" y="252.052" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(505.31726 257.052)"><tspan x="16.53" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">key + value</tspan></text></g><g id="Line_29"><line x1="562.359" x2="562.359" y1="280.5" y2="355.126" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_28"><line x1="159.867" x2="159.754" y1="287.474" y2="348.6" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Line_27"><line x1="500.317" x2="346.4" y1="266.384" y2="266.652" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)"/></g><g id="Graphic_26"><text fill="#000" transform="translate(568 289.75)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="14">1. </tspan> <tspan y="15" fill="#000" font-family="PingFang SC" font-size="14">Write to WAL</tspan></text></g><g id="Graphic_25"><text fill="#000" transform="translate(351.07652 272.88794)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="14">2. </tspan> <tspan y="15" fill="#000" font-family="PingFang SC" font-size="14">Write to MemTable</tspan></text></g><g id="Graphic_24"><text fill="#000" transform="translate(170.88384 329.25)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="14">3. </tspan> <tspan y="15" fill="#000" font-family="PingFang SC" font-size="14">Flush to Disk (Background)</tspan></text></g><g id="Line_23"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker)" d="M 436.92997 383.00897 C 436.92997 383.00897 456.93 404.82856 456.93 434.00897 C 456.93 452.75967 448.67184 468.88394 442.76857 478.01486"/></g><g id="Graphic_22"><text fill="#000" transform="translate(270.372 426.304)"><tspan x="0" y="13" fill="#000" font-family="Helvetica Neue" font-size="14">4. Compaction (Background)</tspan></text></g><g id="Graphic_21"><rect width="62.81" height="41.5" x="80.016" y="571.13" fill="#fff"/><rect width="62.81" height="41.5" x="80.016" y="571.13" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(85.01552 573.432)"><tspan x="9.661" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Data </tspan> <tspan x="6.109" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16">Block</tspan></text></g><g id="Graphic_20"><rect width="62.81" height="41.5" x="142.826" y="571.13" fill="#fff"/><rect width="62.81" height="41.5" x="142.826" y="571.13" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(147.82584 573.432)"><tspan x="9.661" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Data </tspan> <tspan x="6.109" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16">Block</tspan></text></g><g id="Graphic_19"><rect width="62.81" height="41.5" x="204.826" y="571.13" fill="#fff"/><rect width="62.81" height="41.5" x="204.826" y="571.13" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(209.82584 573.432)"><tspan x="9.661" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Data </tspan> <tspan x="6.109" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16">Block</tspan></text></g><g id="Graphic_18"><rect width="62.81" height="41.5" x="266.826" y="571.13" fill="#fff"/><rect width="62.81" height="41.5" x="266.826" y="571.13" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(271.82584 573.432)"><tspan x="9.661" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Data </tspan> <tspan x="6.109" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16">Block</tspan></text></g><g id="Graphic_17"><rect width="62.81" height="41.5" x="328.826" y="571.13" fill="#fff"/><rect width="62.81" height="41.5" x="328.826" y="571.13" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(333.82584 573.432)"><tspan x="9.661" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Data </tspan> <tspan x="6.109" y="33.448" fill="#000" font-family="Helvetica Neue" font-size="16">Block</tspan></text></g><g id="Graphic_16"><rect width="62.81" height="41.5" x="390.826" y="571.13" fill="#fff"/><rect width="62.81" height="41.5" x="390.826" y="571.13" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(395.82584 582.656)"><tspan x="6.701" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Index</tspan></text></g><g id="Line_15"><line x1="128.292" x2="80.016" y1="503.052" y2="571.13" stroke="#7f8080" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="Line_14"><line x1="191.102" x2="453.636" y1="503.052" y2="571.13" stroke="#7f8080" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="Graphic_13"><rect width="44.484" height="26.392" x="7" y="697.76" fill="#fff"/><rect width="44.484" height="26.392" x="7" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(12 701.732)"><tspan x="3.61" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Key</tspan></text></g><g id="Graphic_12"><rect width="62.81" height="26.392" x="51.484" y="697.76" fill="#fff"/><rect width="62.81" height="26.392" x="51.484" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(56.48448 701.732)"><tspan x="7.141" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Value</tspan></text></g><g id="Graphic_11"><rect width="44.484" height="26.392" x="109.568" y="697.76" fill="#fff"/><rect width="44.484" height="26.392" x="109.568" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(114.56808 701.732)"><tspan x="3.61" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Key</tspan></text></g><g id="Graphic_10"><rect width="62.81" height="26.392" x="154.053" y="697.76" fill="#fff"/><rect width="62.81" height="26.392" x="154.053" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(159.05256 701.732)"><tspan x="7.141" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Value</tspan></text></g><g id="Graphic_9"><rect width="44.484" height="26.392" x="211.568" y="697.76" fill="#fff"/><rect width="44.484" height="26.392" x="211.568" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(216.56808 701.732)"><tspan x="3.61" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Key</tspan></text></g><g id="Graphic_8"><rect width="62.81" height="26.392" x="256.053" y="697.76" fill="#fff"/><rect width="62.81" height="26.392" x="256.053" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(261.05256 701.732)"><tspan x="7.141" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Value</tspan></text></g><g id="Graphic_7"><rect width="44.484" height="26.392" x="313.568" y="697.76" fill="#fff"/><rect width="44.484" height="26.392" x="313.568" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(318.56808 701.732)"><tspan x="3.61" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Key</tspan></text></g><g id="Graphic_6"><rect width="62.81" height="26.392" x="358.053" y="697.76" fill="#fff"/><rect width="62.81" height="26.392" x="358.053" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(363.05256 701.732)"><tspan x="7.141" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Value</tspan></text></g><g id="Graphic_5"><rect width="44.484" height="26.392" x="415.568" y="697.76" fill="#fff"/><rect width="44.484" height="26.392" x="415.568" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(420.5681 701.732)"><tspan x="3.61" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Key</tspan></text></g><g id="Graphic_4"><rect width="62.81" height="26.392" x="460.053" y="697.76" fill="#fff"/><rect width="62.81" height="26.392" x="460.053" y="697.76" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(465.05256 701.732)"><tspan x="7.141" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Value</tspan></text></g><g id="Line_3"><line x1="80.016" x2="7" y1="612.63" y2="697.76" stroke="#7f8080" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="Line_2"><line x1="142.826" x2="522.863" y1="612.63" y2="697.76" stroke="#7f8080" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/></g><g id="Graphic_49"><text fill="#000" transform="translate(361.15398 743.552)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Day 1: Block Encoding</tspan></text></g><g id="Graphic_53"><text fill="#000" transform="translate(-19.052517 236.802)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Day 3 &amp; 4: Engine</tspan></text></g><g id="Graphic_56"><text fill="#000" transform="translate(-29.499995 187)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Day 5: Compaction</tspan></text></g><g id="Graphic_58"><text fill="#000" transform="translate(547.658 488.052)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Day 6: Recovery</tspan></text></g><g id="Graphic_59"><rect width="101.046" height="41.5" x="511.836" y="421.304" fill="#fff"/><rect width="101.046" height="41.5" x="511.836" y="421.304" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(516.8359 432.83)"><tspan x="14.851" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Manifest</tspan></text></g><g id="Graphic_60"><text fill="#000" transform="translate(573.656 594.526)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Day 7.1: Bloom Filter</tspan></text></g><g id="Line_61"><line x1="568.656" x2="547.226" y1="604.258" y2="604.258" stroke="#7f8080" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker_2)"/></g><g id="Graphic_62"><text fill="#000" transform="translate(573.656 712.0601)"><tspan x="0" y="16" fill="#000" font-family="Helvetica Neue" font-size="16" font-weight="bold">Day 7.2: Key Compression</tspan></text></g><g id="Line_63"><line x1="568.656" x2="547.226" y1="721.792" y2="721.792" stroke="#7f8080" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker_2)"/></g></g></g></svg>